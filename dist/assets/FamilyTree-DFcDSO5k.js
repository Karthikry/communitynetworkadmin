import{r as n,j as e,h as o,B as m,C as g,m as f,a as u}from"./index-Djsfy_Oq.js";import{C as y,G as j,m as b,f as C,q as l}from"./index.module-D5Dnqe8w.js";const i=({member:s})=>e.jsx(g,{style:{backgroundColor:s.isAlive?"#90EE90":"#ee6b6e",margin:"10px",minWidth:"150px",textAlign:"center"},children:e.jsxs(f,{style:{display:"flex",flexDirection:"column",alignItems:"center",color:"white"},children:[e.jsx("img",{src:s.gender==="MALE"?b:C,alt:s.gender==="MALE"?"Male":"Female",style:{width:30,height:30,marginBottom:"5px"}}),e.jsx(o,{variant:"body1",style:{fontWeight:"bold"},children:s.fullName}),e.jsx(o,{variant:"body2",children:s.relationship})]})}),A=()=>{const[s,d]=n.useState(null),[h,x]=n.useState(!0);if(n.useEffect(()=>{(async()=>{try{const a=JSON.parse(sessionStorage.getItem("user")),r=(a==null?void 0:a.accessToken)||"",p=await u.get("https://executivetracking.cloudjiffy.net/Mahaasabha/membership/v1/findRootFamilyTreeByMembershipCode/1A",{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});d(p.data)}catch(a){console.error("Error fetching data:",a)}finally{x(!1)}})()},[]),h)return e.jsx(y,{});if(!s)return e.jsx(o,{children:"No data available"});const c=t=>e.jsxs(l,{label:e.jsx(i,{member:t}),children:[t.spouseMemberships&&t.spouseMemberships.map((a,r)=>e.jsx(l,{label:e.jsx(i,{member:a})},`spouse-${r}`)),t.childrenMemberships&&t.childrenMemberships.map((a,r)=>e.jsx(l,{label:e.jsx(i,{member:a}),children:c(a)},`child-${r}`))]});return e.jsx(m,{textAlign:"center",m:2,children:e.jsx(j,{lineWidth:"2px",lineColor:"green",lineBorderRadius:"10px",label:e.jsx(i,{member:s}),children:c(s)})})};export{A as default};
