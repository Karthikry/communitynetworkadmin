import{r as n,n as M,t as U,v as w,w as Q,Q as I,y as N,a7 as A,H as O,a8 as q,F,j as a,N as _,O as H,c as K,b as X,I as S}from"./index-Djsfy_Oq.js";import{d as Y}from"./Edit-CWCknw8m.js";import{d as Z}from"./Delete-CtFrHhEW.js";import{T as ee,a as te,b as oe,c as E,d as W,e as ae,f as se}from"./TableRow-DpUlrRrC.js";function re(e){return n.Children.toArray(e).filter(t=>n.isValidElement(t))}function le(e){return U("MuiToggleButton",e)}const P=M("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),V=n.createContext({}),J=n.createContext(void 0);function ie(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.indexOf(e)>=0:e===t}const ne=["value"],de=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],ce=e=>{const{classes:t,fullWidth:s,selected:i,disabled:g,size:f,color:m}=e,b={root:["root",i&&"selected",g&&"disabled",s&&"fullWidth",`size${I(f)}`,m]};return H(b,le,t)},ue=w(Q,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[`size${I(s.size)}`]]}})(({theme:e,ownerState:t})=>{let s=t.color==="standard"?e.palette.text.primary:e.palette[t.color].main,i;return e.vars&&(s=t.color==="standard"?e.vars.palette.text.primary:e.vars.palette[t.color].main,i=t.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),N({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${P.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:A(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${P.selected}`]:{color:s,backgroundColor:e.vars?`rgba(${i} / ${e.vars.palette.action.selectedOpacity})`:A(s,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${i} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:A(s,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${i} / ${e.vars.palette.action.selectedOpacity})`:A(s,e.palette.action.selectedOpacity)}}}},t.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},t.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),G=n.forwardRef(function(t,s){const i=n.useContext(V),{value:g}=i,f=O(i,ne),m=n.useContext(J),b=q(N({},f,{selected:ie(t.value,g)}),t),C=F({props:b,name:"MuiToggleButton"}),{children:$,className:h,color:z="standard",disabled:y=!1,disableFocusRipple:d=!1,fullWidth:k=!1,onChange:T,onClick:o,selected:r,size:x="medium",value:v}=C,R=O(C,de),j=N({},C,{color:z,disabled:y,disableFocusRipple:d,fullWidth:k,size:x}),c=ce(j),p=B=>{o&&(o(B,v),B.defaultPrevented)||T&&T(B,v)},u=m||"";return a.jsx(ue,N({className:_(f.className,c.root,h,u),disabled:y,focusRipple:!d,ref:s,onClick:p,onChange:T,value:v,ownerState:j,"aria-pressed":r},R,{children:$}))});function pe(e){return U("MuiToggleButtonGroup",e)}const l=M("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),ge=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],fe=e=>{const{classes:t,orientation:s,fullWidth:i,disabled:g}=e,f={root:["root",s==="vertical"&&"vertical",i&&"fullWidth"],grouped:["grouped",`grouped${I(s)}`,g&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return H(f,pe,t)},he=w("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${l.grouped}`]:t.grouped},{[`& .${l.grouped}`]:t[`grouped${I(s.orientation)}`]},{[`& .${l.firstButton}`]:t.firstButton},{[`& .${l.lastButton}`]:t.lastButton},{[`& .${l.middleButton}`]:t.middleButton},t.root,s.orientation==="vertical"&&t.vertical,s.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>N({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${l.grouped}`]:N({},e.orientation==="horizontal"?{[`&.${l.selected} + .${l.grouped}.${l.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${l.selected} + .${l.grouped}.${l.selected}`]:{borderTop:0,marginTop:0}})},e.orientation==="horizontal"?{[`& .${l.firstButton},& .${l.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${l.lastButton},& .${l.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${l.firstButton},& .${l.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${l.lastButton},& .${l.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},e.orientation==="horizontal"?{[`& .${l.lastButton}.${P.disabled},& .${l.middleButton}.${P.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${l.lastButton}.${P.disabled},& .${l.middleButton}.${P.disabled}`]:{borderTop:"1px solid transparent"}})),be=n.forwardRef(function(t,s){const i=F({props:t,name:"MuiToggleButtonGroup"}),{children:g,className:f,color:m="standard",disabled:b=!1,exclusive:C=!1,fullWidth:$=!1,onChange:h,orientation:z="horizontal",size:y="medium",value:d}=i,k=O(i,ge),T=N({},i,{disabled:b,fullWidth:$,orientation:z,size:y}),o=fe(T),r=n.useCallback((p,u)=>{if(!h)return;const B=d&&d.indexOf(u);let D;d&&B>=0?(D=d.slice(),D.splice(B,1)):D=d?d.concat(u):[u],h(p,D)},[h,d]),x=n.useCallback((p,u)=>{h&&h(p,d===u?null:u)},[h,d]),v=n.useMemo(()=>({className:o.grouped,onChange:C?x:r,value:d,size:y,fullWidth:$,color:m,disabled:b}),[o.grouped,C,x,r,d,y,$,m,b]),R=re(g),j=R.length,c=p=>{const u=p===0,B=p===j-1;return u&&B?"":u?o.firstButton:B?o.lastButton:o.middleButton};return a.jsx(he,N({role:"group",className:_(o.root,f),ref:s,ownerState:T},k,{children:a.jsx(V.Provider,{value:v,children:R.map((p,u)=>a.jsx(J.Provider,{value:c(u),children:p},u))})}))}),L=[{id:"userId",label:"User ID",minWidth:120},{id:"fullName",label:"Full Name",minWidth:180},{id:"userName",label:"User Name",minWidth:200},{id:"mobileNumber",label:"Mobile Number",minWidth:150},{id:"email",label:"Email",minWidth:150},{id:"roleName",label:"Role Name",minWidth:150},{id:"createdBy",label:"Created By",minWidth:150},{id:"updatedBy",label:"Updated By",minWidth:150},{id:"insertedDate",label:"Inserted Date",minWidth:180},{id:"status",label:"Status",minWidth:100},{id:"edit",label:"Edit",minWidth:80},{id:"delete",label:"Delete",minWidth:80}],Ce=()=>{const[e,t]=n.useState(0),[s,i]=n.useState(10),[g,f]=n.useState([]),[m,b]=n.useState(0),[C,$]=n.useState(!0);n.useEffect(()=>{(async()=>{$(!0);try{const r=JSON.parse(sessionStorage.getItem("user")),x=(r==null?void 0:r.accessToken)||"",v=await fetch(`https://executivetracking.cloudjiffy.net/Mahaasabha/userprofile/v1/getAllUserProfileByPagination/{pageNumber}/{pageSize}?pageNumber=${e}&pageSize=${s}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`}});if(!v.ok)throw new Error(`Error: ${v.statusText}`);const R=await v.json(),j=R.content.map(c=>{var p;return{userId:c.userId,fullName:c.fullName||"N/A",userName:c.userName||"N/A",mobileNumber:c.mobileNumber||"N/A",email:c.email||"N/A",roleName:((p=c.roleDto)==null?void 0:p.roleName)||"N/A",createdBy:c.createdBy.userName||"N/A",updatedBy:c.updatedBy.userName||"N/A",insertedDate:h(c.insertedDate),status:c.active?"Active":"Inactive"}});f(j),b(R.totalElements)}catch(r){console.error("Failed to fetch staff:",r)}finally{$(!1)}})()},[]);const h=o=>{const r={year:"numeric",month:"2-digit",day:"2-digit"};return new Date(o).toLocaleDateString(void 0,r)},z=(o,r)=>{t(r)},y=o=>{i(+o.target.value),t(0)},d=o=>{console.log(`Edit clicked for ID: ${o}`)},k=o=>{console.log(`Delete clicked for ID: ${o}`)},T=o=>{console.log(`Status toggled for ID: ${o}`)};return C?a.jsx("div",{children:"Loading..."}):a.jsxs(K,{sx:{width:"100%",overflow:"hidden",mt:5},children:[a.jsx(X,{variant:"contained",sx:{margin:"10px"},onClick:()=>console.log("Add staff clicked"),children:"+ ADD STAFF"}),a.jsx(ee,{sx:{maxHeight:440},children:a.jsxs(te,{stickyHeader:!0,"aria-label":"sticky table",children:[a.jsx(oe,{children:a.jsx(E,{children:L.map(o=>a.jsx(W,{align:o.align||"left",style:{minWidth:o.minWidth,fontWeight:"bold"},children:o.label},o.id))})}),a.jsx(ae,{children:g.length>0?g.slice(e*s,e*s+s).map(o=>a.jsx(E,{hover:!0,role:"checkbox",tabIndex:-1,children:L.map(r=>{const x=o[r.id];return r.id==="edit"?a.jsx(W,{align:"left",children:a.jsx(S,{onClick:()=>d(o.userId),color:"primary",children:a.jsx(Y,{})})},r.id):r.id==="delete"?a.jsx(W,{align:"left",children:a.jsx(S,{onClick:()=>k(o.userId),color:"secondary",children:a.jsx(Z,{})})},r.id):r.id==="status"?a.jsx(W,{align:"left",children:a.jsxs(be,{value:o.status,exclusive:!0,onChange:()=>T(o.userId),children:[a.jsx(G,{value:"Inactive",sx:{color:"red"},children:"Inactive"}),a.jsx(G,{value:"Active",sx:{color:"green"},children:"Active"})]})},r.id):a.jsx(W,{align:r.align||"left",children:x||"N/A"},r.id)})},o.userId)):a.jsx(E,{children:a.jsx(W,{colSpan:L.length,align:"center",sx:{padding:20},children:"No rows"})})})]})}),a.jsx(se,{rowsPerPageOptions:[10,25,100],component:"div",count:m,rowsPerPage:s,page:e,onPageChange:z,onRowsPerPageChange:y})]})};export{Ce as default};
