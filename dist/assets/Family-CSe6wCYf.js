import{u as N,r as t,j as i,M as A,G as b,g as E,a as o,b as F}from"./index-BoyrWkQt.js";import{T as P,a as v,b as D,c as p,d as l,e as k,f as I}from"./TableRow-BWgOi_6U.js";const g=[{id:"membershipId",label:"ID",minWidth:120},{id:"applicationNumber",label:"Application Number",minWidth:180},{id:"membershipCode",label:"Membership Code",minWidth:180},{id:"referanceMembershipCode",label:"Reference Membership Code",minWidth:200},{id:"isAlive",label:"Is Alive",minWidth:120},{id:"fullName",label:"Full Name",minWidth:200},{id:"dob",label:"Date of Birth",minWidth:160},{id:"age",label:"Age",minWidth:120},{id:"bloodGroup",label:"Blood Group",minWidth:150},{id:"mobileNumber",label:"Mobile Number",minWidth:180},{id:"alternativeMobileNumber",label:"Alternative Mobile Number",minWidth:200},{id:"gothra",label:"Gothra",minWidth:150},{id:"emailId",label:"Email ID",minWidth:200},{id:"gender",label:"Gender",minWidth:120},{id:"isMarried",label:"Is Married",minWidth:160},{id:"femaleFamilyRefMembershipCode",label:"Female Family Ref Membership Code",minWidth:200},{id:"occupation",label:"Occupation",minWidth:180},{id:"qualification",label:"Qualification",minWidth:180},{id:"address",label:"Address",minWidth:250},{id:"city",label:"City",minWidth:150},{id:"country",label:"Country",minWidth:150},{id:"edit",label:"Edit",align:"center",minWidth:120},{id:"delete",label:"Delete",align:"center",minWidth:120}],G=()=>{const u=N(),[n,c]=t.useState(0),[r,f]=t.useState(10),[x,y]=t.useState([]),[W,j]=t.useState(0),[h,C]=t.useState(null);t.useEffect(()=>{(async()=>{try{const a=JSON.parse(sessionStorage.getItem("user")),d=(a==null?void 0:a.accessToken)||"",s=await fetch(`https://executivetracking.cloudjiffy.net/Mahaasabha/membership/v1/getAllApplicationNoMembershipByPagination/{pageNumber}/{pageSize}?pageNumber=${n}&pageSize=${r}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`}});if(!s.ok)throw new Error(`Error: ${s.status}`);const m=await s.json();y(m.content||[]),j(m.totalElements||0)}catch(a){C(a.message),console.error("Failed to fetch family data:",a)}})()},[n,r]);const T=()=>{console.log("Add Family button clicked")},M=e=>e==null||e===""?"Not Available":typeof e=="boolean"?e?"Yes":"No":e;return i.jsxs(A,{title:"Family Details",children:[i.jsx(b,{container:!0,spacing:E,justifyContent:"flex-end",children:i.jsx(b,{item:!0,children:i.jsx(o,{variant:"contained",color:"primary",onClick:T,children:"Add Family"})})}),i.jsxs(F,{sx:{width:"100%",overflow:"hidden",marginTop:u.spacing(2)},children:[h&&i.jsxs("div",{style:{color:"red"},children:["Error: ",h]}),i.jsx(P,{sx:{maxHeight:440},children:i.jsxs(v,{stickyHeader:!0,"aria-label":"sticky table",children:[i.jsx(D,{children:i.jsx(p,{children:g.map(e=>i.jsx(l,{align:e.align,style:{minWidth:e.minWidth,fontWeight:600,fontSize:15,padding:"16px 24px"},children:e.label},e.id))})}),i.jsx(k,{children:x.map(e=>i.jsx(p,{hover:!0,role:"checkbox",tabIndex:-1,children:g.map(a=>{const d=e[a.id];return a.id==="edit"?i.jsx(l,{align:a.align,children:i.jsx(o,{variant:"outlined",color:"primary",onClick:()=>console.log("Edit:",e.membershipId),children:"Edit"})},a.id):a.id==="delete"?i.jsx(l,{align:a.align,children:i.jsx(o,{variant:"outlined",color:"secondary",onClick:()=>console.log("Delete:",e.membershipId),children:"Delete"})},a.id):i.jsx(l,{align:a.align,style:{padding:"16px 24px"},children:M(d)},a.id)})},e.membershipId))})]})}),i.jsx(I,{rowsPerPageOptions:[10,25,100],component:"div",count:W,rowsPerPage:r,page:n,onPageChange:(e,a)=>c(a),onRowsPerPageChange:e=>{f(+e.target.value),c(0)}})]})]})};export{G as default};
