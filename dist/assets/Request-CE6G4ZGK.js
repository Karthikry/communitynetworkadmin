import{r as l,j as e,c as f}from"./index-Djsfy_Oq.js";import{T,a as v,b as q,c,d as a,e as P,f as R}from"./TableRow-DpUlrRrC.js";import{f as A}from"./format-cwXK75ha.js";const b=[{id:"requestId",label:"Request ID",minWidth:120},{id:"requestName",label:"Request Name",minWidth:180},{id:"description",label:"Description",minWidth:200},{id:"status",label:"Status",minWidth:120},{id:"insertedDate",label:"Inserted Date",minWidth:180},{id:"acceptedBy",label:"Accepted By",minWidth:180},{id:"updatedBy",label:"Updated By",minWidth:180},{id:"requestedByUserName",label:"Requested By User Name",minWidth:200},{id:"requestTypeName",label:"Request Type Name",minWidth:200}],S=()=>{const[d,h]=l.useState(0),[o,p]=l.useState(10),[u,g]=l.useState([]),[x,y]=l.useState(0);l.useEffect(()=>{(async()=>{try{const s=JSON.parse(sessionStorage.getItem("user")),r=(s==null?void 0:s.accessToken)||"",i=await fetch(`https://executivetracking.cloudjiffy.net/Mahaasabha/request/v1/getAllRequestByPagination/{pageNumber}/{pageSize}?pageNumber=${d}&pageSize=${o}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!i.ok)throw new Error(`Error: ${i.status}`);const n=await i.json();g(n.content||[]),y(n.totalElements||0)}catch(s){console.error("Error fetching data:",s)}})()},[d,o]);const j=(t,s)=>{h(s)},N=t=>{p(+t.target.value),h(0)};return e.jsxs(f,{sx:{width:"100%",overflow:"hidden",mt:5},children:[e.jsx(T,{sx:{maxHeight:440},children:e.jsxs(v,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(q,{children:e.jsx(c,{children:b.map(t=>e.jsx(a,{align:t.align,style:{minWidth:t.minWidth,fontWeight:"bold"},children:t.label},t.id))})}),e.jsx(P,{children:u.length>0?u.map((t,s)=>{var r,i,n,m;return e.jsxs(c,{hover:!0,role:"checkbox",tabIndex:-1,children:[e.jsx(a,{children:t.requestId||"Not Available"}),e.jsx(a,{children:t.requestName||"Not Available"}),e.jsx(a,{children:t.description||"Not Available"}),e.jsx(a,{children:t.status||"Not Available"}),e.jsx(a,{children:t.insertedDate?A(new Date(t.insertedDate),"dd MMM yyyy"):"Not Available"}),e.jsx(a,{children:((r=t.acceptedBy)==null?void 0:r.fullName)||"Not Available"}),e.jsx(a,{children:((i=t.updatedBy)==null?void 0:i.fullName)||"Not Available"}),e.jsx(a,{children:((n=t.requestedBy)==null?void 0:n.userName)||"Not Available"}),e.jsx(a,{children:((m=t.requestTypeDto)==null?void 0:m.requestTypeName)||"Not Available"})]},s)}):e.jsx(c,{children:e.jsx(a,{colSpan:b.length,align:"center",sx:{padding:20},children:"No rows available"})})})]})}),e.jsx(R,{rowsPerPageOptions:[10,25,100],component:"div",count:x,rowsPerPage:o,page:d,onPageChange:j,onRowsPerPageChange:N})]})};export{S as default};
