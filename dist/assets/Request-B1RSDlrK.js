import{r,j as e,b as j}from"./index-BoyrWkQt.js";import{T as N,a as y,b as f,c,d as t,e as v,f as T}from"./TableRow-BWgOi_6U.js";const b=[{id:"requestID",label:"Request ID",minWidth:120},{id:"requestName",label:"Request Name",minWidth:180},{id:"description",label:"Description",minWidth:200},{id:"status",label:"Status",minWidth:120},{id:"insertedDate",label:"Inserted Date",minWidth:180},{id:"acceptedBy",label:"Accepted By",minWidth:180},{id:"updatedBy",label:"Updated By",minWidth:180},{id:"requestedByUserName",label:"Requested By User Name",minWidth:200},{id:"requestTypeName",label:"Request Type Name",minWidth:200}],A=()=>{const[d,h]=r.useState(0),[n,u]=r.useState(10),[o,p]=r.useState([]);r.useEffect(()=>{(async()=>{try{const s=JSON.parse(sessionStorage.getItem("user")),l=(s==null?void 0:s.accessToken)||"",i=await fetch("https://executivetracking.cloudjiffy.net/Mahaasabha/requesttype/v1/getAllRequestTypeByPagination/{pageNumber}/{pageSize}?pageNumber=0&pageSize=10",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`}});if(!i.ok)throw new Error(`Error: ${i.status}`);const x=await i.json();p(x.content||[])}catch(s){console.error("Error fetching data:",s)}})()},[]);const g=(a,s)=>{h(s)},m=a=>{u(+a.target.value),h(0)};return e.jsxs(j,{sx:{width:"100%",overflow:"hidden",mt:5},children:[e.jsx(N,{sx:{maxHeight:440},children:e.jsxs(y,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(f,{children:e.jsx(c,{children:b.map(a=>e.jsx(t,{align:a.align,style:{minWidth:a.minWidth,fontWeight:"bold"},children:a.label},a.id))})}),e.jsx(v,{children:o.length>0?o.slice(d*n,d*n+n).map((a,s)=>{var l,i;return e.jsxs(c,{hover:!0,role:"checkbox",tabIndex:-1,children:[e.jsx(t,{children:a.requestID||"Not Available"}),e.jsx(t,{children:a.requestName||"Not Available"}),e.jsx(t,{children:a.description||"Not Available"}),e.jsx(t,{children:a.status||"Not Available"})," ",e.jsx(t,{children:a.insertedDate||"Not Available"}),e.jsx(t,{children:((l=a.acceptedBy)==null?void 0:l.fullName)||"Not Available"})," ",e.jsx(t,{children:((i=a.updatedBy)==null?void 0:i.fullName)||"Not Available"})," ",e.jsx(t,{children:a.requestedByUserName||"Not Available"}),e.jsx(t,{children:a.requestTypeName||"Not Available"})]},s)}):e.jsx(c,{children:e.jsx(t,{colSpan:b.length,align:"center",sx:{padding:20},children:"No rows available"})})})]})}),e.jsx(T,{rowsPerPageOptions:[10,25,100],component:"div",count:o.length,rowsPerPage:n,page:d,onPageChange:g,onRowsPerPageChange:m})]})};export{A as default};
