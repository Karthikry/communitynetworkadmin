import{q as T,n as z,a3 as F,s as N,t as b,x as y,a4 as $,r as v,y as L,z as q,j as e,D as G,E as O,d as U,i as V,T as W,a5 as K,I as Q,G as R,C as Y,m as J,h as g,a as A}from"./index-BoyrWkQt.js";function Z(r){return T("MuiCircularProgress",r)}z("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const H=["className","color","disableShrink","size","style","thickness","value","variant"];let S=r=>r,D,I,_,w;const d=44,X=F(D||(D=S`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),ee=F(I||(I=S`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),re=r=>{const{classes:s,variant:a,color:n,disableShrink:u}=r,p={root:["root",a,`color${b(n)}`],svg:["svg"],circle:["circle",`circle${b(a)}`,u&&"circleDisableShrink"]};return O(p,Z,s)},se=N("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:a}=r;return[s.root,s[a.variant],s[`color${b(a.color)}`]]}})(({ownerState:r,theme:s})=>y({display:"inline-block"},r.variant==="determinate"&&{transition:s.transitions.create("transform")},r.color!=="inherit"&&{color:(s.vars||s).palette[r.color].main}),({ownerState:r})=>r.variant==="indeterminate"&&$(_||(_=S`
      animation: ${0} 1.4s linear infinite;
    `),X)),te=N("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(r,s)=>s.svg})({display:"block"}),ae=N("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(r,s)=>{const{ownerState:a}=r;return[s.circle,s[`circle${b(a.variant)}`],a.disableShrink&&s.circleDisableShrink]}})(({ownerState:r,theme:s})=>y({stroke:"currentColor"},r.variant==="determinate"&&{transition:s.transitions.create("stroke-dashoffset")},r.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:r})=>r.variant==="indeterminate"&&!r.disableShrink&&$(w||(w=S`
      animation: ${0} 1.4s ease-in-out infinite;
    `),ee)),oe=v.forwardRef(function(s,a){const n=L({props:s,name:"MuiCircularProgress"}),{className:u,color:p="primary",disableShrink:C=!1,size:m=40,style:M,thickness:h=3.6,value:f=0,variant:t="indeterminate"}=n,l=q(n,H),c=y({},n,{color:p,disableShrink:C,size:m,thickness:h,value:f,variant:t}),o=re(c),i={},j={},k={};if(t==="determinate"){const x=2*Math.PI*((d-h)/2);i.strokeDasharray=x.toFixed(3),k["aria-valuenow"]=Math.round(f),i.strokeDashoffset=`${((100-f)/100*x).toFixed(3)}px`,j.transform="rotate(-90deg)"}return e.jsx(se,y({className:G(o.root,u),style:y({width:m,height:m},j,M),ownerState:c,ref:a,role:"progressbar"},k,l,{children:e.jsx(te,{className:o.svg,ownerState:c,viewBox:`${d/2} ${d/2} ${d} ${d}`,children:e.jsx(ae,{className:o.circle,style:i,ownerState:c,cx:d,cy:d,r:(d-h)/2,fill:"none",strokeWidth:h})})}))});var P={},ie=V;Object.defineProperty(P,"__esModule",{value:!0});var E=P.default=void 0,ne=ie(U()),le=e;E=P.default=(0,ne.default)((0,le.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");const ce="/assets/Male-removebg-preview-Ci97rV_x.png",de="/assets/Female-removebg-preview-CghNqdlA.png",ue=()=>{const[r,s]=v.useState(""),[a,n]=v.useState([]),[u,p]=v.useState(!1),[C,m]=v.useState(""),M=async t=>{p(!0),m("");try{const l=JSON.parse(sessionStorage.getItem("user")),c=(l==null?void 0:l.accessToken)||"",o=await fetch(`https://executivetracking.cloudjiffy.net/Mahaasabha/membership/v1/findMembershipByFullName?fullName=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`}});if(!o.ok)throw new Error(`Error: ${o.status}`);const i=await o.json();i&&i.length>0?n(i):n([])}catch{m("Failed to fetch results")}p(!1)},h=t=>{t.preventDefault(),r.trim()&&M(r)},f=t=>{const l=t.fullName||"N/A",c=t.dob||"N/A",o=t.membershipCode||"N/A",i=t.femaleFamilyRefMembershipCode||"N/A",j=t.isAlive?"Alive":"Deceased",k=t.isMarried?"Yes":"No",x=t.gender==="MALE",B={backgroundColor:t.isAlive?"lightgreen":"lightcoral"};return e.jsx(R,{item:!0,xs:12,sm:6,md:4,children:e.jsx(Y,{style:{...B,marginBottom:"20px"},children:e.jsxs(J,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"10px"},children:e.jsx("img",{src:x?ce:de,alt:x?"Male":"Female",style:{width:50,height:50}})}),e.jsx(g,{variant:"h5",children:l}),e.jsxs(g,{variant:"body1",children:[e.jsx("strong",{children:"Date of Birth:"})," ",c]}),e.jsxs(g,{variant:"body1",children:[e.jsx("strong",{children:"Membership Code:"})," ",o]}),e.jsxs(g,{variant:"body1",children:[e.jsx("strong",{children:"Reference Membership Code:"})," ",x?"N/A":i]}),e.jsxs(g,{variant:"body1",children:[e.jsx("strong",{children:"Status:"})," ",j]}),e.jsxs(g,{variant:"body1",children:[e.jsx("strong",{children:"Married:"})," ",k]}),e.jsxs("div",{style:{display:"flex",justifyContent:"start",gap:7,marginTop:"15px"},children:[e.jsx(A,{variant:"contained",style:{backgroundColor:"white",color:"blue",border:"1px solid blue"},onClick:()=>console.log("View Family clicked"),children:"VIEW FAMILY"}),e.jsx(A,{variant:"contained",style:{backgroundColor:"white",color:"purple",border:"1px solid purple"},onClick:()=>console.log("Personal Info clicked"),children:"PERSONAL INFO"})]})]})})},t.membershipCode)};return e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("form",{onSubmit:h,style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:e.jsx(W,{placeholder:"Search a FullName",variant:"outlined",value:r,onChange:t=>s(t.target.value),style:{width:"70%"},InputProps:{endAdornment:e.jsx(K,{position:"end",children:e.jsx(Q,{onClick:h,color:"primary",children:e.jsx(E,{})})})}})}),u&&e.jsx(oe,{style:{display:"block",margin:"auto"}}),C&&e.jsx("div",{style:{color:"red",textAlign:"center"},children:C}),!u&&a.length===0&&e.jsx("div",{style:{textAlign:"center"},children:"No data available"}),e.jsx(R,{container:!0,spacing:3,children:a.map(t=>f(t))})]})};export{ue as default};
